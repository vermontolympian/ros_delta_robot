<?xml version="1.0"?>
<robot name="delta_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">
  	<xacro:property name="PI" value="3.1415926535897931"/>
  	<xacro:property name="width" value="0.01" /> <!-- all links -->
  	<xacro:property name="u" value="0.075" /> <!-- Radius of Base -->
	<xacro:property name="ul" value="0.1" /> <!-- Length of Upper Leg -->
	<xacro:property name="ll" value="0.15" /> <!-- Length of Lower Leg -->
	<xacro:property name="e" value="0.05" /> <!-- Radius of EE -->
	<xacro:property name="base_height" value="1" /> <!-- Length of Lower Leg -->
	
	<xacro:property name="mass_uleg" value="0.0466" /> <!--upper leg mass-->
  <xacro:property name="length_uleg" value="0.2" /> <!-- upper leg length -->
  <xacro:property name="width_uleg" value="0.05" /> <!-- upper leg width -->

  <xacro:property name="mass_lleg" value="0.04" /> <!-- low leg mass-->
  <xacro:property name="length_lleg" value="0.2" /> <!-- low leg length-->
  <xacro:property name="width_lleg" value="0.002" /> <!-- low leg width -->
  <xacro:property name="mass_con" value="0.0173" /> <!-- connector mass-->
	<xacro:property name="ULeg_mass" value="0.0483" /> <!-- EE mass-->
	<xacro:property name="Base_mass" value="0.888"  /> <!-- EE mass-->
	<xacro:property name="EE_mass"   value="0.0475" /> <!-- EE mass-->

  <xacro:property name="namespace" value="delta_robot" />

	<xacro:macro name="default_inertial2" params="mass length width">
		<inertia ixx="${1/12*mass*(width*width+length*length)}" ixy="0.0" ixz="0.0"
			iyy="${1/12*mass*(width*width+length*length)}" iyz="0.0"
			izz="${1/12*mass*(width*width+width*width)}"/>
	</xacro:macro>

	<xacro:macro name="default_inertial3" params="mass length width">
		<inertia ixx="${1/12*mass*(width*width+length*length)}" ixy="0.0" ixz="0.0"
			 iyy="${1/12*mass*(width*width+length*length)}" iyz="0.0"
			 izz="${1/12*mass*(length*length+length*length)}"/>
	</xacro:macro>

	<gazebo>
		<plugin name="my_plugin" filename="libcontact.so"/>
		<plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
			<robotNamespace>/${namespace}</robotNamespace>
     		</plugin>
		<self_collide>true</self_collide>
		<enable_wind>false</enable_wind>
  	</gazebo>

	<link name="world"/>
	
<!-- Visual Materials -->	
	<gazebo reference="link_0">
		<visual><material><script>
			<uri>file://media/materials/scripts/gazebo.material</uri>
			<name>Gazebo/Red</name>
		</script></material></visual>
	</gazebo>

	<gazebo reference="uleg_1">
		<visual><material><script>
			<uri>file://media/materials/scripts/gazebo.material</uri>
			<name>Gazebo/Red</name>
		</script></material></visual>
	</gazebo>

	<gazebo reference="uleg_2">
		<visual><material><script>
			<uri>file://media/materials/scripts/gazebo.material</uri>
			<name>Gazebo/Red</name>
		</script></material></visual>
	</gazebo>

	<gazebo reference="uleg_3">
		<visual><material><script>
			<uri>file://media/materials/scripts/gazebo.material</uri>
			<name>Gazebo/Red</name>
		</script></material></visual>
	</gazebo>
   
	<gazebo reference="low_base">
		<visual><material><script>
			<uri>file://media/materials/scripts/gazebo.material</uri>
			<name>Gazebo/Red</name>
		</script></material></visual>
	</gazebo>	

<!-- Fixed Base -->
	<joint name="base" type="fixed">
	  	<origin xyz="0 0 ${base_height}" rpy="0 0 0"/>
	 	<parent link="world"/>
	 	<child link="link_0"/>
	</joint>
	
	<gazebo reference="link_w_JOINT_w2">
 		<physics><ode>
 			<provide_feedback>true</provide_feedback>
 		</ode></physics>
 	</gazebo>

	<link name="link_0">
		<inertial>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<mass value="1"/>
			<inertia ixx="1"  ixy="0"  ixz="0" iyy="1" iyz="0" izz="1" />
		</inertial>
		
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<geometry>
			<mesh filename="package://delta_robot_support/urdf/meshes/Base.stl" scale="0.001 0.001 0.001" />
			</geometry>
		</visual>
		
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0"/>
			<geometry>
			<mesh filename="package://delta_robot_support/urdf/meshes/Base.stl" scale="0.001 0.001 0.001" />
			</geometry>
		</collision>
	</link>
	
<!-- Servo Joints -->
	<joint name="link_0_JOINT_1" type="revolute">
		<origin xyz="0 -${u} 0" rpy="0.522 0 0"/>
		<parent link="link_0"/>
		<child link="uleg_1"/>
		<limit effort="20" velocity="1.0" lower="-2.1" upper="2.1" />
		<axis xyz="1 0 0"/>
	</joint>

	<joint name="link_0_JOINT_2" type="revolute">
		<origin xyz="${u*0.866} ${u*0.5} 0" rpy="0.522 0 ${2*PI/3}"/>
		<parent link="link_0"/>
		<child link="uleg_2"/>
		<limit effort="20" velocity="1.0" lower="-2.1" upper="2.1" />
		<axis xyz="1 0 0"/>
	</joint>

	<joint name="link_0_JOINT_3" type="revolute">
		<origin xyz="${u*-0.866} ${u*0.5} 0" rpy="0.522 0 ${4*PI/3}"/>
		<parent link="link_0"/>
		<child link="uleg_3"/>
		<limit effort="20" velocity="1.0" lower="-2.1" upper="2.1" />
		<axis xyz="1 0 0"/>
	</joint>

<!-- Upper Legs -->
	<link name="uleg_1">
		<inertial>
			<origin xyz="0 0 0 " rpy="${PI/2} 0 0"/>
			<mass value="${mass_uleg}"/>
			<xacro:default_inertial3 mass="${mass_uleg}" width="${length_uleg}" length="${width_uleg}" />
		</inertial>
		
		<visual>
			<origin xyz="0 0 0 " rpy="${PI/2} ${PI} 0"/>
			<geometry>
			<mesh filename="package://delta_robot_support/urdf/meshes/Link1.stl" scale="0.001 0.001 0.001" />
			</geometry>
		</visual>

		<collision>
			<origin xyz="0 0 0 " rpy="${PI/2} ${PI} 0"/>
			<geometry>
			<mesh filename="package://delta_robot_support/urdf/meshes/Link1.stl" scale="0.001 0.001 0.001" />
			</geometry>
		</collision>
	</link>

	<link name="uleg_2">
		<inertial>
			<origin xyz="0 0 0" rpy="${PI/2} 0 0"/>
			<mass value="${mass_uleg}"/>
			<xacro:default_inertial3 mass="${mass_uleg}" width="${length_uleg}" length="${width_uleg}" />
		</inertial>
		
		<visual>
			<origin xyz="0 0 0" rpy="${PI/2} ${PI} 0"/>
			<geometry>
			<mesh filename="package://delta_robot_support/urdf/meshes/Link1.stl" scale="0.001 0.001 0.001" />
			</geometry>
		</visual>

		<collision>
			<origin xyz="0 0 0" rpy="${PI/2} ${PI} 0"/>
			<geometry>
			<mesh filename="package://delta_robot_support/urdf/meshes/Link1.stl" scale="0.001 0.001 0.001" />
			</geometry>
		</collision>
	</link>

	<link name="uleg_3">
		<inertial>
			<origin xyz="0 0 0" rpy="${PI/2} 0 0"/>
			<mass value="${mass_uleg}"/>
			<xacro:default_inertial3 mass="${mass_uleg}" width="${length_uleg}" length="${width_uleg}" />
		</inertial>
		
		<visual>
			<origin xyz="0 0 0" rpy="${PI/2} ${PI} 0"/>
			<geometry>
			<mesh filename="package://delta_robot_support/urdf/meshes/Link1.stl" scale="0.001 0.001 0.001" />
			</geometry>
		</visual>

		<collision>
			<origin xyz="0 0 0" rpy="${PI/2} ${PI} 0"/>s
			<geometry>
			<mesh filename="package://delta_robot_support/urdf/meshes/Link1.stl" scale="0.001 0.001 0.001" />
			</geometry>
		</collision>
	</link>

<!-- ********************************************************************** -->
<!-- Vertical Connector with "upper_leg" 1                                  -->
<!-- ********************************************************************** -->
<!-- horizontal bar of connection between "upper_leg1" and "lower_leg1ab"   -->
	<joint name="uleg_1_to_elbow" type="continuous">
		<origin xyz="0 -${ul} 0" rpy="0.3178 0 0"/>
		<parent link="uleg_1"/>
		<child link="leg1_elbow"/>
		<axis xyz="1 0 0"/>
	</joint>

	<link name="leg1_elbow">
		<inertial>
			<origin xyz="0 0 0 " rpy="0 ${PI/2} 0"/>
			<mass value="${mass_con}"/>
			<xacro:default_inertial2 mass="${mass_con}" width="0.002" length="0.05" />
		</inertial>
		<visual>
			<origin xyz="0 0 0 " rpy="0 ${PI/2} 0"/>
			<geometry>
			<cylinder length="0.04" radius="0.002" />
			</geometry> 
		</visual>
	</link>
<!-- long vertical rod 1a -->
	<joint name="elbow_to_lleg_1a" type="continuous">
		<origin xyz="-0.02 0 0" rpy="0 0 0"/>
		<parent link="leg1_elbow"/>
		<child link="lleg_1a"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="lleg_1a">
		<inertial>
			<origin xyz="0 0 ${-ll/2} " rpy="0 0 0"/>
			<mass value="${mass_lleg}"/>
			<xacro:default_inertial3 mass="${mass_lleg}" width="${ll}" length="${width_lleg}" />
		</inertial>
		<visual>
			<origin xyz=" 0 0 ${-ll/2} " rpy="0 0 0"/>
			<geometry>
			<cylinder length="${ll}" radius="${width_lleg}" />
			</geometry>
		</visual>
	</link>
<!-- long vertical rod 2b -->
	<joint name="elbow_to_lleg_1b" type="continuous">
		<origin xyz="0.02 0 0" rpy="0 0 0"/>
		<parent link="leg1_elbow"/>
		<child link="lleg_1b"/>
		<mimic joint="elbow_to_lleg_1a"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="lleg_1b">
		<inertial>
			<origin xyz="0 0 ${-ll/2} " rpy="0 0 0"/>
			<mass value="${mass_lleg}"/>
			<xacro:default_inertial3 mass="${mass_lleg}" width="${ll}" length="${ll}" />
		</inertial>

		<visual>
			<origin xyz=" 0 0 ${-ll/2} " rpy="0 0 0"/>
			<geometry>
			<cylinder length="${ll}" radius="${width_lleg}" />
			</geometry>
		</visual>
	</link>

<!-- ********************************************************************** -->
<!-- Vertical Connector with "upper_leg" 2                                  -->
<!-- ********************************************************************** -->
<!-- horizontal bar of connection between "upper_leg2" and "lower_leg2ab"   -->
	<joint name="uleg_2_to_elbow" type="continuous">
		<origin xyz="0 -${ul} 0" rpy="0.3178 0 0"/>
		<parent link="uleg_2"/>
		<child link="leg2_elbow"/>
		<axis xyz="1 0 0"/>
	</joint>

	<link name="leg2_elbow">
		<inertial>
			<origin xyz="0 0 0 " rpy="0 ${PI/2} 0"/>
			<mass value="${mass_con}"/>
			<xacro:default_inertial2 mass="${mass_con}" width="0.002" length="0.05" />
		</inertial>
		<visual>
			<origin xyz="0 0 0 " rpy="0 ${PI/2} 0"/>
			<geometry>
			<cylinder length="0.04" radius="0.002" />
			</geometry> 
		</visual>
	</link>
<!-- long vertical rod 2a -->
	<joint name="elbow_to_lleg_2a" type="continuous">
		<origin xyz="-0.02 0 0" rpy="0 0 0"/>
		<parent link="leg2_elbow"/>
		<child link="lleg_2a"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="lleg_2a">
		<inertial>
			<origin xyz="0 0 ${-ll/2} " rpy="0 0 0"/>
			<mass value="${mass_lleg}"/>
			<xacro:default_inertial3 mass="${mass_lleg}" width="${ll}" length="${width_lleg}" />
		</inertial>
		<visual>
			<origin xyz=" 0 0 ${-ll/2} " rpy="0 0 0"/>
			<geometry>
			<cylinder length="${ll}" radius="${width_lleg}" />
			</geometry>
		</visual>
	</link>
<!-- long vertical rod 2b -->
	<joint name="elbow_to_lleg_2b" type="continuous">
		<origin xyz="0.02 0 0" rpy="0 0 0"/>
		<parent link="leg2_elbow"/>
		<child link="lleg_2b"/>
		<mimic joint="elbow_to_lleg_2a"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="lleg_2b">
		<inertial>
			<origin xyz="0 0 ${-ll/2} " rpy="0 0 0"/>
			<mass value="${mass_lleg}"/>
			<xacro:default_inertial3 mass="${mass_lleg}" width="${ll}" length="${ll}" />
		</inertial>

		<visual>
			<origin xyz=" 0 0 ${-ll/2} " rpy="0 0 0"/>
			<geometry>
			<cylinder length="${ll}" radius="${width_lleg}" />
			</geometry>
		</visual>
	</link>

<!-- ********************************************************************** -->
<!-- Vertical Connector with "upper_leg" 3                                  -->
<!-- ********************************************************************** -->
<!-- horizontal bar of connection between "upper_leg3" and "lower_leg3ab"   -->
	<joint name="uleg_3_to_elbow" type="continuous">
		<origin xyz="0 -${ul} 0" rpy="0.3178 0 0"/>
		<parent link="uleg_3"/>
		<child link="leg3_elbow"/>
		<axis xyz="1 0 0"/>
	</joint>

	<link name="leg3_elbow">
		<inertial>
			<origin xyz="0 0 0 " rpy="0 ${PI/2} 0"/>
			<mass value="${mass_con}"/>
			<xacro:default_inertial2 mass="${mass_con}" width="0.002" length="0.05" />
		</inertial>
		<visual>
			<origin xyz="0 0 0 " rpy="0 ${PI/2} 0"/>
			<geometry>
			<cylinder length="0.04" radius="0.002" />
			</geometry> 
		</visual>
	</link>
<!-- long vertical rod 3a -->
	<joint name="elbow_to_lleg_3a" type="continuous">
		<origin xyz="-0.02 0 0" rpy="0 0 0"/>
		<parent link="leg3_elbow"/>
		<child link="lleg_3a"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="lleg_3a">
		<inertial>
			<origin xyz="0 0 ${-ll/2} " rpy="0 0 0"/>
			<mass value="${mass_lleg}"/>
			<xacro:default_inertial3 mass="${mass_lleg}" width="${ll}" length="${width_lleg}" />
		</inertial>
		<visual>
			<origin xyz=" 0 0 ${-ll/2} " rpy="0 0 0"/>
			<geometry>
			<cylinder length="${ll}" radius="${width_lleg}" />
			</geometry>
		</visual>
	</link>
<!-- long vertical rod 3b -->
	<joint name="elbow_to_lleg_3b" type="continuous">
		<origin xyz="0.02 0 0" rpy="0 0 0"/>
		<parent link="leg3_elbow"/>
		<child link="lleg_3b"/>
		<mimic joint="elbow_to_lleg_3a"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="lleg_3b">
		<inertial>
			<origin xyz="0 0 ${-ll/2} " rpy="0 0 0"/>
			<mass value="${mass_lleg}"/>
			<xacro:default_inertial3 mass="${mass_lleg}" width="${ll}" length="${ll}" />
		</inertial>

		<visual>
			<origin xyz=" 0 0 ${-ll/2} " rpy="0 0 0"/>
			<geometry>
			<cylinder length="${ll}" radius="${width_lleg}" />
			</geometry>
		</visual>
	</link>
	
<!-- ****************************************************************** -->
<!-- Horizontal bars under the legs                                     -->
<!-- ****************************************************************** -->
<!-- bottom horizontal bar of union between "upper_leg" and lleg 3      -->
	<joint name="con33_lleg_3" type="continuous">
        	<origin xyz="0 0 -0.15" rpy="0 0 0"/>
        	<parent link="lleg_3b"/>
        	<child link="con33"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="con33">
		<inertial>
			<origin xyz="-0.02  0 0 " rpy="0 ${PI/2} 0"/>
			<mass value="${mass_con}"/>
			<xacro:default_inertial2 mass="${mass_con}" width="0.002" length="0.05" />
        	</inertial>

        	<visual>
        		<origin xyz="-0.02 0 0  " rpy="0 ${PI/2} 0"/>
        		<geometry>
        		<cylinder length="0.04" radius="0.002" />
        		</geometry>
           	</visual>
	</link>

<!-- horizontal bar below union between "upper_leg" and long leg 2-->
	<joint name="con22_lleg_2" type="continuous">
        	<origin xyz="0 0 -0.15" rpy="0 0 0"/>
        	<parent link="lleg_2b"/>
        	<child link="con23"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="con23">
		<inertial>
			<origin xyz="-0.02  0 0 " rpy="0 ${PI/2} 0"/>
			<mass value="${mass_con}"/>
			<xacro:default_inertial2 mass="${mass_con}" width="0.002" length="0.05" />
        	</inertial>

        	<visual>
        		<origin xyz="-0.02 0 0  " rpy="0 ${PI/2} 0"/>
        		<geometry>
        		<cylinder length="0.04" radius="0.002" />
        		</geometry>
           	</visual>
	</link>

<!-- bottom horizontal bar of union between "upper_leg" and long leg 1-->
	<joint name="con11_lleg_1" type="continuous">
        	<origin xyz="0 0 -0.15" rpy="-0.8398 0 0"/>
        	<parent link="lleg_1b"/>
        	<child link="con13"/>
		<axis xyz="0 1 0"/>
	</joint>

	<link name="con13">
		<inertial>
			<origin xyz="-0.02  0 0 " rpy="0 ${PI/2} 0"/>
			<mass value="${mass_con}"/>
			<xacro:default_inertial2 mass="${mass_con}" width="0.002" length="0.05" />
        	</inertial>

        	<visual>
        		<origin xyz="-0.02 0 0  " rpy="0 ${PI/2} 0"/>
        		<geometry>
        		<cylinder length="0.04" radius="0.002" />
        		</geometry>
           	</visual>
	</link>

<!-- ****************************************************************** -->
<!-- Lower union of the legs with the end effector                      -->
<!-- ****************************************************************** -->
<!-- Long leg joint 1							-->
        <joint name='lleg1_base' type='continuous'>
          <origin xyz="-0.02 0.05 0" rpy="0 0 0"/>
          <parent link="con13"/>
          <child link="low_base"/>
          <axis xyz="1 0 0"/>
        </joint>

        <link name='low_base'>
        		<inertial>
			<origin xyz="-0.02  0 0 " rpy="0 ${PI/2} 0"/>
			<mass value="${mass_con}"/>
			<xacro:default_inertial2 mass="${mass_con}" width="0.002" length="0.05" />
        	</inertial>
          <visual name='low_base_visual'>
            <origin xyz="0 0 -0.0025" rpy="0 0 1.0472"/>
    	      <geometry>
              <mesh filename="package://delta_robot_support/urdf/meshes/EE.stl" scale="0.001 0.001 0.001" />
            </geometry>
          </visual>
        </link>
        <!-- ****************************************************************** -->
<!-- Joins entre las uniones inferiores de end effector  -->
<!-- ****************************************************************** -->
<!-- join union del end effector y la barilla 1 de la patas largas 1 y 2-->
	<gazebo>
	<joint name='lleg2_base' type='revolute'>
		<child>con23</child>
		<parent>low_base</parent>
		<pose> 0 0 0 0 0 0 </pose>
		<axis>
		<xyz>1 0 0</xyz>
		<limit>
                <lower>-100</lower>
                <upper>100</upper>
              </limit>
               <dynamics>
                <spring_reference>0</spring_reference>
                <spring_stiffness>0</spring_stiffness>
      	         <damping>0.000000</damping>
                <friction>0.00030000</friction>
              </dynamics>
              <use_parent_model_frame>0</use_parent_model_frame>
            </axis>
          </joint>
<!-- join union del end effector y la barilla 1 de la pata larga  3-->
          <joint name='lleg3_base' type='revolute'>
            <child>con33</child>
            <parent>low_base</parent>
            <pose> 0 0 0 0 0 0 </pose>
            <axis>
              <xyz>1 0 0</xyz>
              <limit>
                <lower>-100</lower>
                <upper>100</upper>
              </limit>
              <dynamics>
                <spring_reference>0</spring_reference>
                <spring_stiffness>0</spring_stiffness>
      	        <damping>0.000000</damping>
                <friction>0.00030000</friction>
              </dynamics>
              <use_parent_model_frame>0</use_parent_model_frame>
            </axis>
          </joint>

<!-- join union del end effector y la barilla 2 de la pata larga  1-->
          <joint name='con13_lleg_1b' type='revolute'>
            <child>con13</child>
            <parent>lleg_1</parent>
            <pose> -0.05 0 0 0 0 0 </pose>
            <axis>
              <xyz>0 1 0</xyz>
              <limit>
                <lower>-100</lower>
                <upper>100</upper>
              </limit>
              <dynamics>
                <spring_reference>0</spring_reference>
                <spring_stiffness>0</spring_stiffness>
      	        <damping>0.000000</damping>
                <friction>0.00030000</friction>
              </dynamics>
              <use_parent_model_frame>0</use_parent_model_frame>
            </axis>
          </joint>

<!-- join union del end effector y la barilla 2 de la pata larga  2-->
          <joint name='con23_lleg_2b' type='revolute'>
            <child>con23</child>
            <parent>lleg_2</parent>
            <pose> -0.05 0 0 0 0 0 </pose>
            <axis>
              <xyz>0 1 0</xyz>
              <limit>
                <lower>-100</lower>
                <upper>100</upper>
              </limit>
               <dynamics>
                <spring_reference>0</spring_reference>
                <spring_stiffness>0</spring_stiffness>
      	        <damping>0.000000</damping>
                <friction>0.00030000</friction>
              </dynamics>
              <use_parent_model_frame>0</use_parent_model_frame>
            </axis>
          </joint>

<!-- join union del end effector y la barilla 2 de la pata larga  3-->
          <joint name='con33_lleg_3b' type='revolute'>
            <child>con33</child>
            <parent>lleg_3</parent>
            <pose> -0.05 0 0 0 0 0 </pose>
            <axis>
              <xyz>0 1 0</xyz>
              <limit>
                <lower>-100</lower>
                <upper>100</upper>
              </limit>
              <dynamics>
                <spring_reference>0</spring_reference>
                <spring_stiffness>0</spring_stiffness>
      	        <damping>0.000000</damping>
                <friction>0.00030000</friction>
              </dynamics>
              <use_parent_model_frame>0</use_parent_model_frame>
            </axis>
          </joint>
        </gazebo>
<!-- ****************************************************************** -->
<!-- Joins trabsmisions motors for gazebo  -->
<!-- ****************************************************************** -->
       <!-- <transmission name="motor1_trans">
         <type>transmission_interface/SimpleTransmission</type>
         <joint name="link_0_JOINT_1">
           <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
         </joint>
         <actuator name="motor1">
           <hardwareInterface>PositionJointInterface</hardwareInterface>
           <mechanicalReduction>1.0</mechanicalReduction>
           <motorTorqueConstant>1.0</motorTorqueConstant>
         </actuator>
       </transmission>
        <gazebo reference="link_0_JOINT_1">
          <erp>0.1</erp>
          <stopKd value="100000000.0" />
          <stopKp value="100000000.0" />
          <fudgeFactor value="0.5" />
       </gazebo>

       <transmission name="motor2_trans">
         <type>transmission_interface/SimpleTransmission</type>
         <joint name="link_0_JOINT_2">
           <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
         </joint>
         <actuator name="motor2">
           <hardwareInterface>PositionJointInterface</hardwareInterface>
           <mechanicalReduction>1.0</mechanicalReduction>
           <motorTorqueConstant>1.0</motorTorqueConstant>
         </actuator>
       </transmission>
        <gazebo reference="link_0_JOINT_2">
          <erp>0.1</erp>
          <stopKd value="100000000.0" />
          <stopKp value="100000000.0" />
          <fudgeFactor value="0.5" />
       </gazebo>

       <transmission name="motor3_trans">
         <type>transmission_interface/SimpleTransmission</type>
         <joint name="link_0_JOINT_3">
           <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
         </joint>
         <actuator name="motor3">
           <hardwareInterface>PositionJointInterface</hardwareInterface>
           <mechanicalReduction>1.0</mechanicalReduction>
           <motorTorqueConstant>1.0</motorTorqueConstant>
         </actuator>
       </transmission>
        <gazebo reference="link_0_JOINT_3">
          <erp>0.1</erp>
          <stopKd value="100000000.0" />
          <stopKp value="100000000.0" />
          <fudgeFactor value="0.5" />
       </gazebo> -->

       <!-- <gazebo>
           <gazebo_ros_controller_manager name="gazebo_ros_controller_manager" plugin="libgazebo_ros_controller_manager.so">
                <alwaysOn>true</alwaysOn>
                <updateRate>1000.0</updateRate>
                <robotNamespace></robotNamespace>
                <robotParam>robot_description</robotParam>
                <audio name="gazebo_ros_controller_manager_dummy_iface" />
           </gazebo_ros_controller_manager>
      </gazebo> -->
<!--
      <plugin name="copter_arm_sim_plugin" filename="libgazebo_ros_control.so">
        <robotNamespace>/delta_robot</robotNamespace>
      </plugin>
-->

        <!-- <gazebo>
            <plugin name="gazebo_ros_f3d" filename="libgazebo_ros_f3d.so">
                <alwaysOn>true</alwaysOn>
                <updateRate>100.0</updateRate>
                <bodyName>low_base</bodyName>
                <topicName>base_link/f3d</topicName>
                <frameName>${namespace}/low_base</frameName>
            </plugin>
        </gazebo> -->

    <transmission name="motor1_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="motor1">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="link_0_JOINT_1">
        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      </joint>
    </transmission>

    <transmission name="motor2_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="motor2">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="link_0_JOINT_2">
        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      </joint>
    </transmission>

    <transmission name="motor3_trans">
      <type>transmission_interface/SimpleTransmission</type>
      <actuator name="motor3">
        <mechanicalReduction>1</mechanicalReduction>
      </actuator>
      <joint name="link_0_JOINT_3">
        <hardwareInterface>hardware_interface/PositionJointInterface</hardwareInterface>
      </joint>
    </transmission>
    
    <gazebo>
      <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
         <robotNamespace>/</robotNamespace>
       </plugin>
    </gazebo>

</robot>
